CONTRACT_TYPE
{
    name = DunaFlyby
    group = SPACEMAN'sContractOverhaul

    title = Duna Flyby
    agent = Kerbal Rocketry
    sortKey = 800

    synopsis = Send an uncrewed vessel past Duna without returning to Kerbin.
    notes = We can clearly visit other bodies, but how far can we go? Try aiming for the little red dot in the sky
    description = Launch a probe from Kerbin and perform a flyby of Duna to gather interplanetary science.
    completedMessage = Outstanding! Your vessel successfully performed a Duna flyby.

    minExpiry = 0
    maxExpiry = 0
    maxCompletions = 1

    cancellable = false
    declinable = false

    targetBody = HomeWorld()

    rewardScience = 4
    rewardReputation = 25
    rewardFunds = 120000

    failureFunds = -30000
    failureReputation = -20

    prestige = Significant

    REQUIREMENT
    {
        name = CompletedMunOrbit
        type = CompleteContract
        contractType = MunOrbiter
    }

    PARAMETER
    {
        name = DunaFlybyMission
        type = VesselParameterGroup
        title = Complete a Duna flyby
        define = DunaFlybyMission

        PARAMETER
        {
            name = NewVessel
            type = NewVessel
            title = Launch a new uncrewed vessel
            hideChildren = true
        }

        PARAMETER
        {
            name = Uncrewed
            type = HasCrew
            title = Uncrewed
            minCrew = 0
            maxCrew = 0
            hideChildren = true
        }

        PARAMETER
        {
            name = FlybyDuna
            type = ReachState
            situation = ESCAPING
            targetBody = Duna
            title = Achieve a flyby of Duna
            disableOnStateChange = true
            hideChildren = true
        }
    }
}